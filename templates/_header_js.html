<script>
    document.addEventListener('DOMContentLoaded', function () {
        const menuToggle = document.getElementById('menuToggle');
        const mainNav = document.getElementById('mainNav');

        if (menuToggle && mainNav) {
            menuToggle.addEventListener('click', function () {
                this.classList.toggle('active');
                mainNav.classList.toggle('active');
            });

            // Close menu when clicking outside
            document.addEventListener('click', function (e) {
                if (!menuToggle.contains(e.target) && !mainNav.contains(e.target)) {
                    menuToggle.classList.remove('active');
                    mainNav.classList.remove('active');
                }
            });

            // Close menu when clicking on a nav link
            mainNav.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function () {
                    menuToggle.classList.remove('active');
                    mainNav.classList.remove('active');
                });
            });
        }

        // Globally enforce minutes to '00' on all datetime-local inputs
        function snapToHour(input) {
            if (input.value) {
                const parts = input.value.split(':');
                if (parts.length >= 2 && parts[1] !== '00') {
                    input.value = parts[0] + ':00';
                    input.dispatchEvent(new Event('input')); // Trigger update displays
                }
            }
        }

        document.querySelectorAll('input[type="datetime-local"]').forEach(input => {
            input.addEventListener('input', function () { snapToHour(this); });
            input.addEventListener('change', function () { snapToHour(this); });
        });
    });
</script>